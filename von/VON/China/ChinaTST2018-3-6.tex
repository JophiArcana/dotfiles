desc: Can (xy+1)(xy+x+2) be a square?
source: China TST 2018/3/6
tags: [2020-01, oly, tricky, nt, pell, waltz]

---

Determine whether there exist positive integers $x$, $y$ such that $(xy+1)(xy+x+2)$ is a perfect square.

---

No such $(x,y)$: the assumption $k^2=(xy+1)(xy+x+2)$ rearranges to \[(y-1)^2=\big[2y(y+1)x+(3y+1)\big]^2-4y(y+1)k^2.\]
Set $u=2y(y+1)x+(3y+1)$ and $v=k$, so it suffices to show that there is no solution to the Pell-like equation $(y-1)^2=u^2-4y(y+1)v^2$ with $u\equiv3k+1\pmod{2y(y+1)}$. Assume for contradiction such a solution exists.

Define $N(u,v)=u^2-4y(y+1)v^2$ as the norm of $u+v\sqrt{4y(y+1)}$. It is clear that the fundamental unit in $\mathbb Z_{>0}\big[\sqrt{4y(y+1)}\big]$ is $(2y+1)+\sqrt{4y(y+1)}$. In other words, the solutions $(u_i,v_i)$ to the Pell-like equation are described by the recurrence \[(u_{i+1},v_{i+1})=\Big( (2y+1)u_i+4y(y+1)v_i,\;u_i+(2y+1)v_i\Big).\]
Furthermore one solution is $(2y^2-y-1,y-1)$. In this solution, $u\equiv-(3y+1)\pmod{2y(y+1)}$. Thus if we consider $u$ modulo $2y(y+1)$, there is a $t$ such that $-(3y+1)(2y+1)^t\equiv(3y+1)\pmod{2y(y+1)}$.

However note that $(2y+1)^2\equiv1\pmod{2y(y+1)}$, hence $(2y+1)^t$ can only attain the values $2y+1$ and $1$. Neither of these obey $-(3y+1)(2y+1)^t\equiv(3y+1)\pmod{2y(y+1)}$, the desired contradiction.
