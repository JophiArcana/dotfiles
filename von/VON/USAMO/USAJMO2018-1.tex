desc: Pre-olympiad recursion
source: USAJMO 2018/1
tags: [2019-10, oly, trivial, combo, recursion]

---

For each positive integer $n$, find the number of $n$-digit positive integers that satisfy both of the following conditions:
\begin{itemize}[itemsep=0em]
    \item no two consecutive digits are equal; and
    \item the last digit is a prime.
\end{itemize}

---

Let $a_n$ denote the answer for $n$.
\begin{claim*}
    For all $n>1$, $a_n=4\cdot9^{n-1}-a_{n-1}$
\end{claim*}
\begin{proof}
    We can check $4\cdot9^{n-1}=a_n+a_{n-1}$, by writing a leading zero in front of each $(n-1)$-digit number.
\end{proof}

Solving the recursion with $a_1=4$ gives \[a_n=4\cdot9^{n-1}-4\cdot9^{n-2}+\cdots+(-1)^{n-1}\cdot4=\frac25\big(9^n-(-1)^n\big),\]
as desired.

