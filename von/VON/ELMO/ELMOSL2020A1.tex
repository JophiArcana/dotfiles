desc: f^{f^{f(x)}(y)}(z)=x+y+z+1
source: ELMO SL 2020 A1
tags: [2020-04, oly, medium, alg, fe, trash, secret]
author: William Wang

---

Find all functions $f:\mathbb N\to\mathbb N$ such that \[f^{f^{f(x)}(y)}(z)=x+y+z+1\]
for all positive integers $x$, $y$, $z$.

---

The answer is $f(x)\equiv x+1$, which works since \[f^{f^{f(x)}(y)}(z)=f^{f^{x+1}(y)}(z)=f^{x+y+1}(z)=x+y+z+1.\]

Now we prove this is the only solution. Notice that \[f^{x+y+z+1}(t)=f^{f^{f^{f(x)}(y)}(z)}(t)=f^{f(x)-1}(y)+z+t-1.\]
Let this assertion by $Q(x,y,z,t)$. By $Q(x,y,z+1,t)$ and $Q(x,y,z,f(t))$ we have \[f^{f(x)-1}(y)+z+t=f^{x+y+z+2}(t)=f^{f(x)-1}(y)+z+f(t),\]
and thus $f(t)=t+1$.
