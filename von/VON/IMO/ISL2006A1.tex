desc: Floor frac sequence
source: ISL 2006 A1
tags: [2019-11, oly, easy, nt, sequence, nice, waltz]

---

A sequence of real numbers $a_0$, $a_1$, $a_2$, $\ldots$ is defined by the formula \[a_{i+1}=\left\lfloor a_i\right\rfloor\cdot\left\langle a_i\right\rangle\qquad\text{for}\quad i\ge0;\]
here $a_0$ is an arbitrary real number, $\lfloor a_i\rfloor$ denotes the greatest integer not exceeding $a_i$, and $\left\langle a_i\right\rangle=a_i-\lfloor a_i\rfloor$. Prove that $a_i=a_{i+2}$ for $i$ sufficiently large.

---

If $a_0\ge0$, then $\left\lfloor a_i\right\rfloor$ either remains zero or is strictly decreasing. Henceforth assume that $a_0<0$. Clearly the floor is nondecreasing. We will show that if $-n\le-2$ is the floor of some term in the sequence, so is $-n+1$. Once the sequence enters the interval $[-1,0]$, the conclusion is obvious.

Assume for contradiction the floor of the sequence remains at $-n$ forever. Consider some term of the form $-n+\varepsilon$, where $0\le\varepsilon<1$, and consider $\delta=\varepsilon-\frac n{n+1}$. If $\varepsilon'$ and $\delta'$ refer to the next term of the sequence, then \[\delta'=\varepsilon'-\frac n{n+1}=n(1-\varepsilon)-\frac n{n+1}=n\left(1-\delta-\frac n{n+1}\right)-\frac n{n+1}=-n\delta.\]
Either $\delta$ is always zero, or this eventually exceeds $1$, as desired.
