desc: Play with a sequence
source: IMO 2018/2
tags: [2019-10, oly, medium, alg, sequence]

---

Find all integers $n\ge3$ for which there exist real numbers $a_1,\,a_2,\,\ldots,\,a_{n+2}$ satisfying $a_{n+1}=a_1$, $a_{n+2}=a_2$, and \[a_ia_{i+1}+1=a_{i+2}\]
for all $i=1,\,2,\,\ldots,\,n$.

---

The answer is $3\mid n$, achieved by the sequence $(2,-1,-1,2,-1,-1,\ldots)$. I claim that $a_i=a_{i+3}$ for all $i$, so if $3\nmid n$, the sequence is constant; this concludes the proof, as $x^2+1=x$ has no real root. Check that \[\sum_{i=1}^na_{i+2}^2=\sum_{i=1}^n\left(a_ia_{i+1}a_{i+2}+a_{i+2}\right)=\sum_{i=1}^n\left(a_ia_{i+1}a_{i+2}+a_i\right)=\sum_{i=1}^na_ia_{i+3}.\]
This can be rewritten as $0=\sum_{i=1}^n\left(a_i-a_{i+3}\right)^2$, hence done.

