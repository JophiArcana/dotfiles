desc: Functional equation from infinite sequences to integers
source: Brazil Olympic Revenge 2016/5
tags: [2020-01, oly, alg, brutal, fe, anti, nice, waltz, trash]

---

Let $T$ be the set of all infinite sequences of integers. For two given elements $(a_1,a_2,a_3,\ldots)$ and $(b_1,b_2,b_3,\ldots)$ in $T$, define the sum \[(a_1,a_2,a_3,\ldots)+(b_1,b_2,b_3,\ldots)=(a_1+b_1,a_2+b_2,a_3+b_3,\ldots).\]
Let $f:T\to\mathbb Z$ be a function such that
\begin{enumerate}[label=(\roman*),itemsep=0em]
    \item if $x\in T$ has exactly one term equal to $1$ and all others equal to $0$, then $f(x)=0$; and
    \item $f(x+y)=f(x)+f(y)$ for all $x,y\in T$.
\end{enumerate}
Prove that $f(x)=0$ for all $x\in T$.

---

We are given that for all $x$ with finitely many nonzero elements, $f(x)=0$. (Rigorously, to show $f(x)=0$ for $x=(a_1,a_2,a_3,\ldots,a_n,0,0,\ldots)$, let $x_i$ be the sequence with $i$th term $1$ and all other terms $0$, and take $f(x)=\sum_{i=1}^na_if(x_i)$.) Consequently for any sequence $x=(a_1,a_2,a_3,\ldots)$, we can subtract off $(a_1,a_2,a_3,\ldots,a_n,0,0,\ldots)$ and assume the first $n$ elements of the sequence are $0$.

Note that for all positive integers $n$ and sequences of integers $(b_1,b_2,b_3,\ldots)$ and $(c_1,c_2,c_3,\ldots)$, we have
\begin{align*}
    f(2b_1,2^2b_2,2^3b_3,\ldots)&=f(0,0,\ldots,0,2^nb_n,2^{n+1}b_{n+1},\ldots)\\
    &=2^nf(0,0,\ldots,0,b_n,2b_{n+1},\ldots)\\
    &\equiv0\pmod{2^n},
\end{align*}
and similarly \[f(3c_1,3^2c_2,3^3c_3,\ldots)\equiv0\pmod{3^n}.\]
It follows that they are both $0$. For any sequence $(a_1,a_2,a_3,\ldots)$, by B\'ezout's lemma we can find sequences of integers $(b_1,b_2,b_3,\ldots)$ and $(c_1,c_2,c_3,\ldots)$ such that $a_n=2^nb_n+3^nc_n$ for all positive integers $n$. Thus \[f(a_1,a_2,a_3,\ldots)=f(2b_1,2^2b_2,2^3b_3,\ldots)+f(3c_1,3^2c_2,3^3c_3,\ldots)=0,\]
and we are done.
